<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ollama Translator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div class="lang-controls">
          <label class="visually-hidden" for="fromLang">From language</label>
          <select id="fromLang" class="select">
            <option value="English">English</option>
            <option value="Chinese, Simplified">Chinese, Simplified</option>
            <option value="Japanese">Japanese</option>
            <option value="Korean">Korean</option>
          </select>

          <button id="swapLang" class="icon-btn" title="Swap languages" aria-label="Swap languages">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 7h12M7 7l3-3M7 7l3 3" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17 17H5M17 17l-3-3M17 17l-3 3" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>

          <label class="visually-hidden" for="toLang">To language</label>
          <select id="toLang" class="select">
            <option value="Chinese, Simplified">Chinese, Simplified</option>
            <option value="English">English</option>
            <option value="Japanese">Japanese</option>
            <option value="Korean">Korean</option>
          </select>
        </div>

        <div class="actions">
          <button id="settingsBtn" class="icon-btn" title="Settings" aria-label="Settings">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 8.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z" stroke="currentColor" stroke-width="1.7"/>
              <path d="M19.4 15a7.93 7.93 0 00.05-1 7.93 7.93 0 00-.05-1l2.03-1.58a.5.5 0 00.12-.64l-1.92-3.32a.5.5 0 00-.6-.22l-2.39.96a8.2 8.2 0 00-1.73-1l-.36-2.55a.5.5 0 00-.5-.42h-3.84a.5.5 0 00-.5.42l-.36 2.55a8.2 8.2 0 00-1.73 1l-2.39-.96a.5.5 0 00-.6.22L2.45 9.78a.5.5 0 00.12.64L4.6 12a7.93 7.93 0 00-.05 1 7.93 7.93 0 00.05 1l-2.03 1.58a.5.5 0 00-.12.64l1.92 3.32a.5.5 0 00.6.22l2.39-.96c.53.4 1.11.73 1.73 1l.36 2.55a.5.5 0 00.5.42h3.84a.5.5 0 00.5-.42l.36-2.55c.62-.27 1.2-.6 1.73-1l2.39.96a.5.5 0 00.6-.22l1.92-3.32a.5.5 0 00-.12-.64L19.4 15z" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round"/>
            </svg>
          </button>

          <button id="modelBtn" class="btn btn-secondary" title="Choose models">Model <span id="modelCount">0</span></button>
          <button id="translateBtn" class="btn btn-primary">Translate</button>
        </div>
      </header>

      <main>
        <section class="input-section">
          <div class="textarea-wrap">
            <textarea id="sourceText" maxlength="5000" placeholder="Enter text to translate..."></textarea>
            <div id="charCount" class="char-count">0 / 5000</div>
            <button id="clearInputBtn" class="icon-btn clear-btn" title="Clear input" aria-label="Clear input">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 3h6m4 3H5m2 0l1 14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2l1-14" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10 10v9M14 10v9" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
        </section>

        <section id="results" class="results"></section>
      </main>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
      <div class="modal-content">
        <h3 id="settingsTitle">Settings</h3>
        <label class="field">
          <span>Ollama API base URL</span>
          <input id="apiBaseUrl" type="text" placeholder="http://localhost:11434" />
        </label>
        <div class="modal-actions">
          <button id="settingsCancel" class="btn">Cancel</button>
          <button id="settingsSave" class="btn btn-primary">Save</button>
        </div>
      </div>
    </div>

    <!-- Models Modal -->
    <div id="modelsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modelsTitle">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modelsTitle">Select Models</h3>
          <button id="refreshModels" class="btn btn-link">Refresh</button>
        </div>
        <div id="modelsList" class="models-list">
          <!-- Dynamically filled -->
        </div>
        <div class="modal-actions">
          <button id="modelsCancel" class="btn">Cancel</button>
          <button id="modelsDone" class="btn btn-primary">Done</button>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
  </html>

